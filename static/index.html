<!doctype html>
<html>
<head>
	<title>Karaoke</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript">
		$(function(){

			document.getElementById('muziq').play();

			$.get('lyrics', function(data){
				var lines = [];
				for(prop in data)
					lines.push(data[prop]);
				setText(lines);
			});
			
			$('#tellme').click(function(){
				console.log(document.getElementById('muziq').currentTime);
			})
			
			var setText = function(lines){
					var count = 0;
					//console.log(lines);
					setInterval(function(){
						$('#current').text(lines[count]);
						count ++;
				}, 1000);
			}
		})
	</script>
</head>
	<body>
		<h1 id="title">Karaoke</h1>
		<h2 id="current"></h2>
		<audio id="muziq" src="audio/paradise.ogg" preload="auto" controls></audio>
		<button id="tellme" >tell me the time</button>
		
	</body>
</html>
